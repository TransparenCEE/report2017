jQuery(document).ready(function($){function e(e,n){function t(){u=Math.floor(Math.random()*r)}function o(){t();for(var e=0;e<=c.length;e++){if(u==c[e])return d=!0,o(),!0;d=!1}d||a()}function a(){c[c.length]=u,c.length==r?e.append("<span>"+i[u]+"</span>"):e.append("<span>"+i[u]+"</span>"+n),c.length<r&&o()}for(var i=new Array,r=e.find("span").length,s=0;s<r;s++){var l=e.find("span").eq(s).text();i[s]=l}e.html("");var c=new Array,u,d=!1;o()}$("#background-gallery").lightSlider({auto:!0,mode:"fade",useCSS:!0,speed:2500,pause:6e3,loop:!0,controls:!1,pager:!1,enableDrag:!1});var n=new ScrollMagic.Controller;$(".content-section").each(function(){var e=this,t=new ScrollMagic.Scene({duration:0,triggerElement:e,reverse:!1,triggerHook:.5}).setClassToggle(e,"active-section").addTo(n)}),$(".menu-section").each(function(){var e=this,a=$(this).attr("id"),i=$(this).outerHeight(),r=new ScrollMagic.Scene({duration:i,triggerElement:e,reverse:!0}).on("enter",function(){t(a)}).on("leave",function(){o(a)}).addTo(n)});var t=function(e){$(".main-navigation").find("a.active-section-link").removeClass("active-section-link"),$(".main-navigation").find("a[href='#"+e+"']").addClass("active-section-link")},o=function(e){$(".main-navigation").find("a[href='#"+e+"']").removeClass("active-section-link")};$(document).on("click",".hamburger-button",function(e){e.preventDefault(),$("body.menu-opened").length>0?i():a()}),$(document).on("click",".goback-menu",function(n){n.preventDefault(),i(),$(".thank-you-window.show").removeClass("show"),e($(".thank-you-people"),", "),e($(".thank-you-firms")," / ")});var a=function(){$(".navigation-layer").addClass("display"),setTimeout(function(){$(".navigation-layer").addClass("show"),$(".hamburger-button .line").addClass("animate-1")},10),setTimeout(function(){$(".hamburger-button .line").addClass("animate-2")},250),$("body").addClass("menu-opened")},i=function(){$(".navigation-layer").removeClass("show"),$(".hamburger-button .line").removeClass("animate-2"),$(".hamburger-button .line").removeClass("animate-1"),setTimeout(function(){$(".navigation-layer").removeClass("display")},250),$("body").removeClass("menu-opened")};$(".photos-gallery").lightGallery({zoom:!1}),$(document).on("click",".nav-buttons .text-button, a.read-more-link",function(e){e.preventDefault();var n=$(e.target).attr("href"),t=$(n).offset().top;console.log(t),$(".navigation-layer.show").length>0?(i(),setTimeout(function(){$("body, html").animate({scrollTop:t},1e3)},250)):$("body, html").animate({scrollTop:t},1e3)}),$(document).on("click",".bottom-heart",function(e){e.preventDefault();var n="#section-intro",t=$(n).offset().top;console.log(t),$("body, html").animate({scrollTop:t},1e3)}),$(".sections-container").fullpage({anchors:["cover","intro","community-voices","civic-tech","events","event-1","event-2","event-3","event-4","build","assets-declarations","konsultimi-publik","moonsheep","ted2","public-procurement","social-media-scraper","research","workshops","workshops-overview","working-groups","whats-next","bye"],onLeave:function(e,n,t){r(e,n,t)},afterLoad:function(){$(".sections-container").addClass("loaded")},responsiveWidth:780});var r=function(e,n,t){var o=n-1,a=$(".sections-container").find(".section:eq("+o+")");a.hasClass("active-section")||$(a).addClass("active-section"),a.hasClass("dark")?$("body").addClass("invert-header"):$("body").removeClass("invert-header")};$(document).on("click",".main-navigation a",function(e){e.preventDefault();var n=$(e.target).closest("a").attr("data-goto");console.log(n),i(),setTimeout(function(){$.fn.fullpage.moveTo(n)},250)}),$.fn.fullpage.setLockAnchors(!0),$(document).on("click",".event-link-container, .project-block",function(e){e.preventDefault();var n=$(e.target).closest("a").attr("data-goto");console.log(n),$.fn.fullpage.moveTo(n)}),$(".quotes-container").lightSlider({item:1,slideMove:1}),$(".transparent-light-gallery").each(function(){$(this).lightGallery({zoom:!1,thumbnail:!1})}),$(document).on("click",".popup-open",function(e){e.preventDefault();var n=$(e.target).attr("data-window");console.log(n),$("."+n).addClass("show")}),e($(".thank-you-people"),", "),e($(".thank-you-firms")," / ")});